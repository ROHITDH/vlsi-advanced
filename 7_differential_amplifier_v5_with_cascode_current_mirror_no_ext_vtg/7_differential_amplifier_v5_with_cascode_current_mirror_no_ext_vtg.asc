Version 4
SHEET 1 2132 1296
WIRE -2448 -1168 -2672 -1168
WIRE 0 -1168 -816 -1168
WIRE 448 -1168 0 -1168
WIRE -2448 -1136 -2448 -1168
WIRE -2448 -1136 -2480 -1136
WIRE -2208 -1136 -2448 -1136
WIRE 0 -1136 0 -1168
WIRE 0 -1136 -96 -1136
WIRE 112 -1136 0 -1136
WIRE -2208 -1104 -2208 -1136
WIRE -96 -1104 -96 -1136
WIRE 112 -1104 112 -1136
WIRE -2672 -1088 -2672 -1168
WIRE -2480 -1088 -2480 -1136
WIRE 448 -1040 448 -1168
WIRE -2208 -992 -2208 -1024
WIRE -2208 -976 -2208 -992
WIRE -2480 -960 -2480 -1008
WIRE -2384 -960 -2480 -960
WIRE -2480 -944 -2480 -960
WIRE -2080 -928 -2208 -928
WIRE -816 -928 -816 -1168
WIRE 448 -912 448 -960
WIRE -2480 -896 -2608 -896
WIRE -2384 -896 -2384 -960
WIRE -2288 -896 -2384 -896
WIRE -2256 -896 -2288 -896
WIRE -2080 -880 -2080 -928
WIRE -96 -880 -96 -1024
WIRE 112 -880 112 -1024
WIRE -2384 -864 -2384 -896
WIRE -2384 -864 -2432 -864
WIRE -96 -864 -96 -880
WIRE 112 -864 112 -880
WIRE -2608 -848 -2608 -896
WIRE 0 -816 -96 -816
WIRE 208 -816 112 -816
WIRE -2208 -784 -2208 -880
WIRE -224 -784 -624 -784
WIRE -208 -784 -224 -784
WIRE -144 -784 -208 -784
WIRE 0 -784 0 -816
WIRE 208 -784 208 -816
WIRE -2208 -752 -2208 -784
WIRE -816 -736 -816 -848
WIRE -704 -736 -816 -736
WIRE -224 -736 -224 -784
WIRE -96 -736 -96 -768
WIRE 64 -736 64 -784
WIRE -2480 -720 -2480 -848
WIRE -2384 -720 -2480 -720
WIRE 64 -720 64 -736
WIRE 288 -720 64 -720
WIRE 560 -720 288 -720
WIRE -2480 -704 -2480 -720
WIRE -2080 -704 -2208 -704
WIRE -1408 -704 -1408 -800
WIRE -1296 -704 -1296 -800
WIRE -128 -688 -224 -688
WIRE -96 -688 -96 -736
WIRE -64 -688 -96 -688
WIRE 0 -688 -64 -688
WIRE 64 -688 0 -688
WIRE 112 -688 112 -768
WIRE 112 -688 64 -688
WIRE 288 -688 288 -720
WIRE -2384 -672 -2384 -720
WIRE -2304 -672 -2384 -672
WIRE -2256 -672 -2304 -672
WIRE -624 -672 -624 -704
WIRE -2480 -656 -2608 -656
WIRE -2080 -656 -2080 -704
WIRE -816 -656 -816 -736
WIRE -272 -656 -320 -656
WIRE -128 -656 -128 -688
WIRE 64 -656 64 -688
WIRE 128 -656 64 -656
WIRE 400 -640 288 -640
WIRE -2384 -624 -2384 -672
WIRE -2384 -624 -2432 -624
WIRE -224 -624 -224 -640
WIRE -64 -624 -64 -688
WIRE -64 -624 -224 -624
WIRE -2608 -608 -2608 -656
WIRE -2208 -608 -2208 -656
WIRE 240 -608 208 -608
WIRE 400 -608 400 -640
WIRE 560 -608 560 -640
WIRE -2480 -560 -2480 -608
WIRE -1408 -560 -1408 -624
WIRE -1296 -560 -1296 -624
WIRE -816 -528 -816 -576
WIRE -272 -528 -816 -528
WIRE 128 -528 128 -656
WIRE 288 -528 288 -592
WIRE 288 -528 128 -528
WIRE -816 -496 -816 -528
WIRE 0 -496 0 -688
WIRE -816 -448 -960 -448
WIRE -704 -448 -704 -736
WIRE 112 -448 0 -448
WIRE -704 -416 -704 -448
WIRE -704 -416 -768 -416
WIRE -272 -416 -272 -528
WIRE -96 -416 -272 -416
WIRE -48 -416 -96 -416
WIRE 0 -304 0 -400
WIRE -816 -288 -816 -400
WIRE -704 -288 -816 -288
WIRE -816 -224 -816 -288
WIRE 0 -224 0 -304
WIRE -960 -176 -960 -448
WIRE -816 -176 -960 -176
WIRE 112 -176 112 -448
WIRE 112 -176 0 -176
WIRE -704 -144 -704 -288
WIRE -704 -144 -768 -144
WIRE -96 -144 -704 -144
WIRE -48 -144 -96 -144
WIRE -960 -48 -960 -176
WIRE -816 -48 -816 -128
WIRE -816 -48 -960 -48
WIRE -400 -48 -816 -48
WIRE 0 -48 0 -128
WIRE 0 -48 -400 -48
WIRE 112 -48 112 -176
WIRE 112 -48 0 -48
WIRE -400 16 -400 -48
FLAG -2608 -848 0
FLAG -2480 -560 0
FLAG -2608 -608 0
FLAG -2080 -880 0
FLAG -2208 -608 0
FLAG -2080 -656 0
FLAG -2672 -1008 0
FLAG -2288 -896 vg11
FLAG -2304 -672 vg12
FLAG -2208 -992 vd11
FLAG -2208 -784 vd12
FLAG -624 -672 0
FLAG 0 -784 0
FLAG 208 -784 0
FLAG 560 -608 0
FLAG 448 -912 0
FLAG -208 -784 vg1
FLAG -96 -736 vs1
FLAG -96 -880 vd1
FLAG 64 -736 vg2
FLAG 112 -880 vd2
FLAG -96 -416 vg3
FLAG -1408 -560 0
FLAG -1296 -560 0
FLAG -1408 -800 in1
IOPIN -1408 -800 Out
FLAG -1296 -800 in2
IOPIN -1296 -800 Out
FLAG 400 -608 0
FLAG -128 -656 0
FLAG -320 -656 in1
IOPIN -320 -656 In
FLAG 208 -608 in2
IOPIN 208 -608 In
FLAG -400 16 0
FLAG -96 -144 vg7
FLAG 0 -304 vd7
FLAG -704 -448 vg6
DATAFLAG -2480 -800 ""
DATAFLAG -2208 -816 ""
DATAFLAG -2080 -912 ""
DATAFLAG 0 -304 ""
DATAFLAG 0 -608 ""
DATAFLAG -224 -144 ""
DATAFLAG -336 -784 ""
DATAFLAG -96 -976 ""
SYMBOL current -2480 -1088 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 10µ
SYMBOL res -2224 -1120 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL nmos4 -2432 -944 M0
SYMATTR InstName M9
SYMATTR Value2 l=1u w=30u
SYMBOL nmos4 -2432 -704 M0
SYMATTR InstName M10
SYMATTR Value2 l=1u w=30u
SYMBOL nmos4 -2256 -976 R0
SYMATTR InstName M11
SYMATTR Value2 l=1u w=30u
SYMBOL nmos4 -2256 -752 R0
SYMATTR InstName M12
SYMATTR Value2 l=1u w=30u
SYMBOL voltage -2672 -1104 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1.2v
SYMBOL nmos4 -144 -864 R0
SYMATTR InstName M1
SYMATTR Value2 l=0.05u w=272u
SYMBOL nmos4 64 -864 R0
SYMATTR InstName M2
SYMATTR Value2 l=0.05u w=272u
SYMBOL nmos4 -48 -496 R0
SYMATTR InstName M3
SYMATTR Value2 l=4u w=40u
SYMBOL voltage -624 -800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0.74 1m 1k 0 0 180)
SYMBOL voltage 560 -736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0.74 1m 1k)
SYMBOL voltage 448 -1056 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.2
SYMBOL res -112 -1120 R0
SYMATTR InstName R1
SYMATTR Value 60k
SYMBOL res 96 -1120 R0
SYMATTR InstName R2
SYMATTR Value 60k
SYMBOL voltage -1408 -720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL voltage -1296 -720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL nmos4 -272 -736 R0
SYMATTR InstName M4
SYMATTR Value2 l=1u w=100u
SYMBOL nmos4 240 -688 R0
SYMATTR InstName M5
SYMATTR Value2 l=1u w=100u
SYMBOL current -816 -928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 10µ
SYMBOL nmos4 -768 -496 M0
SYMATTR InstName M6
SYMATTR Value2 l=4u w=40u
SYMBOL nmos4 -48 -224 R0
SYMATTR InstName M7
SYMATTR Value2 l=4u w=60u
SYMBOL nmos4 -768 -224 M0
SYMATTR InstName M8
SYMATTR Value2 l=4u w=60u
SYMBOL res -832 -672 R0
SYMATTR InstName R4
SYMATTR Value 100k
TEXT -2648 -1256 Left 2 ;cascode current mirror to make  Vds constant
TEXT -2504 -464 Left 2 !.meas vgs11 PARAM v(vg11)-v(vd12)
TEXT -2504 -416 Left 2 !.meas vds11 PARAM v(vd11)-v(vd12)
TEXT -2504 -440 Left 2 !.meas vgs_greaterThan_VTH_11 PARAM vgs11-0.4
TEXT -2504 -392 Left 2 !.meas vds_greaterThan_Vgs-Vth_11 PARAM vds11-(vgs11-0.4)
TEXT -3288 -464 Left 2 !.meas vgs9 PARAM v(vg11)-v(vg12)
TEXT -3288 -416 Left 2 !.meas vds9 PARAM v(vg11)-v(vg12)
TEXT -3288 -440 Left 2 !.meas vgs_greaterThan_VTH_9 PARAM vgs9-0.4
TEXT -3288 -392 Left 2 !.meas vds_greaterThan_Vgs-Vth_9 PARAM vds9-(vgs9-0.4)
TEXT -2496 -312 Left 2 !.meas vgs12 PARAM v(vg12)
TEXT -2496 -264 Left 2 !.meas vds12 PARAM v(vd12)
TEXT -2496 -288 Left 2 !.meas vgs_greaterThan_VTH_12 PARAM vgs12-0.4
TEXT -2496 -240 Left 2 !.meas vds_greaterThan_Vgs-Vth_12 PARAM vds12-(vgs12-0.4)
TEXT -3280 -312 Left 2 !.meas vgs10 PARAM v(vg12)
TEXT -3280 -264 Left 2 !.meas vds10 PARAM v(vg12)
TEXT -3280 -288 Left 2 !.meas vgs_greaterThan_VTH_10 PARAM vgs10-0.4
TEXT -3280 -240 Left 2 !.meas vds_greaterThan_Vgs-Vth_10 PARAM vds10-(vgs10-0.4)
TEXT -3272 -176 Left 2 ;vgs11: v(vg11)-v(vd12)=0.457735\nvds11: v(vd11)-v(vd12)=0.642265\nvgs_greaterthan_vth_11: vgs11-0.4=0.057735\nvds_greaterthan_vgs-vth_11: vds11-(vgs11-0.4)=0.58453\nvgs9: v(vg11)-v(vg12)=0.457735\nvds9: v(vg11)-v(vg12)=0.457735\nvgs_greaterthan_vth_9: vgs9-0.4=0.057735\nvds_greaterthan_vgs-vth_9: vds9-(vgs9-0.4)=0.4\nvgs12: v(vg12)=0.457735\nvds12: v(vd12)=0.457735\nvgs_greaterthan_vth_12: vgs12-0.4=0.057735\nvds_greaterthan_vgs-vth_12: vds12-(vgs12-0.4)=0.4\nvgs10: v(vg12)=0.457735\nvds10: v(vg12)=0.457735\nvgs_greaterthan_vth_10: vgs10-0.4=0.057735\nvds_greaterthan_vgs-vth_10: vds10-(vgs10-0.4)=0.4
TEXT -656 -1304 Left 2 ;Differential NMOS Amplifier with cascode current sink\nEnable Control
TEXT -1432 -1120 Left 2 !.MODEL NMOS NMOS(KP=200u,VTO=0.4,LAMBDA=0.2)
TEXT -1432 -1048 Left 2 !.tran 0 10m 0 10
TEXT -1432 -984 Left 2 !.op
TEXT -1432 -1080 Left 2 !.temp -40 27 125
TEXT -200 128 Left 2 !.meas vgs1 PARAM v(vg1)-v(vs1)
TEXT -200 184 Left 2 !.meas vds1 PARAM v(vd1)-v(vs1)
TEXT -200 152 Left 2 !.meas vgs_greaterThan_VTH_1 PARAM vgs1-0.4
TEXT -200 216 Left 2 !.meas vds_greaterThan_Vgs-Vth_1 PARAM vds1-(vgs1-0.4)
TEXT -200 280 Left 2 !.meas vgs2 PARAM v(vg2)-v(vs1)
TEXT -200 344 Left 2 !.meas vds2 PARAM v(vd2)-v(vs1)
TEXT -200 304 Left 2 !.meas vgs_greaterThan_VTH_2 PARAM vgs2-0.4
TEXT -200 376 Left 2 !.meas vds_greaterThan_Vgs-Vth_2 PARAM vds2-(vgs2-0.4)
TEXT -312 480 Left 2 !.meas vgs3 PARAM v(vg3)-v(vd7)
TEXT -312 528 Left 2 !.meas vds3 PARAM v(vs1)-v(vd7)
TEXT -312 504 Left 2 !.meas vgs_greaterThan_VTH_3 PARAM vgs3-0.4
TEXT -312 552 Left 2 !.meas vds_greaterThan_Vgs-Vth_3 PARAM vds3-(vgs3-0.4)
TEXT -1096 480 Left 2 !.meas vgs6 PARAM v(vg6)-v(vg7)
TEXT -1096 528 Left 2 !.meas vds6 PARAM v(vg3)-v(vd7)
TEXT -1096 504 Left 2 !.meas vgs_greaterThan_VTH_6 PARAM vgs6-0.4
TEXT -1096 552 Left 2 !.meas vds_greaterThan_Vgs-Vth_6 PARAM vds6-(vgs6-0.4)
TEXT -304 632 Left 2 !.meas vgs7 PARAM v(vg7)
TEXT -304 680 Left 2 !.meas vds7 PARAM v(vd7)
TEXT -304 656 Left 2 !.meas vgs_greaterThan_VTH_7 PARAM vgs7-0.4
TEXT -304 704 Left 2 !.meas vds_greaterThan_Vgs-Vth_7 PARAM vds7-(vgs7-0.4)
TEXT -1088 632 Left 2 !.meas vgs8 PARAM v(vg7)
TEXT -1088 680 Left 2 !.meas vds8 PARAM v(vg7)
TEXT -1088 656 Left 2 !.meas vgs_greaterThan_VTH_8 PARAM vgs8-0.4
TEXT -1088 704 Left 2 !.meas vds_greaterThan_Vgs-Vth_8 PARAM vds8-(vgs8-0.4)
